
const user = [
  {
      "_id": "6661505723b474031af530ba",
      "firstname": "amar",
      "lastname": "superadmin",
      "email": "amar@livein.in",
      "phone": "8104960261",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614ca2d8250827b8a42fbb",
          "role_name": "superadmin",
          "status": true,
          "ability": [
              "dashboard",
              "summary",
              "analytics",
              "brands"
          ],
          "createdAt": "2024-06-06T05:44:02.184Z",
          "updatedAt": "2024-06-06T05:44:02.184Z",
          "role_id": 1,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-06T05:59:51.656Z",
      "updatedAt": "2024-06-19T07:13:02.506Z",
      "admin_id": 3,
      "__v": 0
  },
  {
      "_id": "666165ae0a35af264e0694dd",
      "firstname": "livein",
      "lastname": "superadmin",
      "email": "admin@livein.in",
      "phone": "8104960260",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614ca2d8250827b8a42fbb",
          "role_name": "superadmin",
          "status": true,
          "ability": [
              "dashboard",
              "summary",
              "brands"
          ],
          "createdAt": "2024-06-06T05:44:02.184Z",
          "updatedAt": "2024-06-06T05:44:02.184Z",
          "role_id": 1,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-06T07:30:54.360Z",
      "updatedAt": "2024-06-19T11:12:54.111Z",
      "admin_id": 6,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "admin",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "support",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "catalog",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "admin",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "admin",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "catalog",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "marketing",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "marketing",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "support",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "admin",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "catalog",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "catalog",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
  {
      "_id": "666c21f4b4541c5f9a5bfa82",
      "firstname": "karan",
      "lastname": "kamble",
      "email": "marketing@livein.in",
      "phone": "8104960255",
      "address": "A-46 Road No-2, Tecknit Industries, MIDC",
      "city": "Mumbai",
      "state": "Maharashtra",
      "pin": "400067",
      "gender": "male",
      "profile_image": null,
      "role": {
          "_id": "66614d25d8250827b8a42fc3",
          "role_name": "support",
          "status": true,
          "ability": [
              "dashboard",
              "summary"
          ],
          "createdAt": "2024-06-06T05:46:13.063Z",
          "updatedAt": "2024-06-06T05:46:13.063Z",
          "role_id": 3,
          "__v": 0
      },
      "status": true,
      "createdAt": "2024-06-14T10:56:52.238Z",
      "updatedAt": "2024-06-14T11:54:42.714Z",
      "admin_id": 7,
      "__v": 0
  },
]

// const allrole = user.filter(role=>role.role.role_name.length())
// console.log(allrole)
// const mapping = user.map((rolename)=>{return rolename.role.role_name})
// for (let index = 0; index < mapping.length; index++) {
//     const element = mapping[index];
//     console.log(element);
//     element.match()
    
// }
// const filtering = mapping.filter((role)=>{
//     for (let index = 0; index < role.length; index++) {
//         const element = role[index];
//         // console.log(element);
//     }
// })
// console.log(mapping);
// console.log(mapping.length);
// console.log(filtering);
console.log('hello')

const roleCount = { }

for (i=0; i < user.length; i ++){
    const roleName = user[i].role.role_name
    // console.log(roleCount)
    // console.log({title : roleName, totalUser : roleCount[roleName]})
    // console.log({totalUser : roleCount[roleName]})
    if(roleCount[roleName]){
        roleCount[roleName]++
    }else{
        roleCount[roleName] = 1
    }
    
}

const roleCountsArray = Object.keys(roleCount).map(role=>{return {title: role, totalUser: roleCount[role]}})
console.log(roleCount);
console.log(roleCountsArray);

const adminRole = user.reduce((acc,curr)=>{
    const roleName = curr.role.role_name
    console.log(roleName);
    const role = acc.find(r=> r.title === roleName)
console.log(role);
    if (role) {
        role.totalUser ++
    } else{
        acc.push({title: roleName, totalUser : 1})
    }
    return acc
}, [])
console.log(adminRole);